(this.webpackJsonpwatch=this.webpackJsonpwatch||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,a){var n={"./bwf.png":30,"./cart.svg":16,"./ccbf.png":31,"./ccf.png":32,"./gwsf.png":33,"./hff.png":34,"./logo.png":15,"./vf.png":35,"./ywbf.png":36,"./ywf.png":37};function i(t){var e=c(t);return a(e)}function c(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=c,t.exports=i,i.id=14},function(t,e,a){t.exports=a.p+"static/media/logo.c1999a13.png"},function(t,e,a){t.exports=a.p+"static/media/cart.629051aa.svg"},,,,,,,,function(t,e,a){t.exports=a(43)},,,,,function(t,e,a){},function(t,e,a){t.exports=a.p+"static/media/bwf.cf801df0.png"},function(t,e,a){t.exports=a.p+"static/media/ccbf.4617c6a9.png"},function(t,e,a){t.exports=a.p+"static/media/ccf.b2b13fb5.png"},function(t,e,a){t.exports=a.p+"static/media/gwsf.fa7e1ca7.png"},function(t,e,a){t.exports=a.p+"static/media/hff.d6100b0e.png"},function(t,e,a){t.exports=a.p+"static/media/vf.502bb83d.png"},function(t,e,a){t.exports=a.p+"static/media/ywbf.b05dc423.png"},function(t,e,a){t.exports=a.p+"static/media/ywf.f5309313.png"},,,,,,function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),c=a(21),r=a.n(c),o=(a(29),a(3)),l=a(1),s=function(){var t=window.location.pathname.split("/");return t[t.length-1]},m=function(){for(var t=s();t.indexOf("%20")>=0;)t=t.replace("%20"," ");var e=t.split("+");return{watchName:e[0],codeName:e[1]}},u={marginLeft:"-80"},d={init:{opacity:0},anim:{opacity:1,transition:{delay:1,duration:1}},exit:{opacity:0,transition:{delay:0,duration:.5}}},p={init:{y:-500},anim:{y:0,transition:{duration:1,type:"tween"}},exit:{y:-500,transition:{delay:0,duration:1,type:"tween"}}},f={init:{opacity:0},anim:{opacity:1,transition:{duration:1,type:"tween"}},exit:{}},h=a(23),y=function(){var t=Object(n.useState)(0),e=Object(o.a)(t,2)[1];return function(){return e((function(t){return t+1}))}},E=Object(n.createContext)({name:"",manufacturer:"",description:"",options:[]}),g=Object(n.createContext)([]),v=function(t){var e=t.children,a="Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tenetur a vero asperiores consequuntur reprehenderit voluptates!",c=[{id:"1444",name:"ELEJENT",description:a,options:[{codeName:"rice",colour:"#DBDBDB",image:"bwf.png",price:"R63 000"},{codeName:"summer",colour:"#1d2B44",image:"hff.png",price:"R59 000"}]},{id:"1544",name:"NKUNI",description:a,options:[{codeName:"blue",colour:"#dfbeab",image:"vf.png",price:"R54 000"}]},{id:"1644",name:"BRONZINO",description:a,options:[{codeName:"bronzi",colour:"#3f1a0f",image:"ccf.png",price:"R75 000"},{codeName:"cyberblue",colour:"#024a62",image:"ccbf.png",price:"R80 000"}]},{id:"1744",name:"GOLIDE",description:a,options:[{codeName:"goli",colour:"#d29e5b",image:"gwsf.png",price:"R99 000"}]},{id:"1844",name:"MJIBA",description:a,options:[{codeName:"flash",colour:"yellow",image:"ywf.png",price:"R51 000"},{codeName:"cyan",colour:"#01f1b5",image:"ywbf.png",price:"R51 000"}]}],r=Object(n.useState)([]),l=Object(o.a)(r,2),s=l[0],m=l[1],u=y(),d=function(t,e){console.log("RM FROM CART",t.id,e),m((function(a){return p(t,e)?a.filter((function(a){return a.id!==t.id+e.toString()})):a}))},p=function(t,e){return s.map((function(t){return t&&t.id})).includes(t.id+e.toString())},f={addToCart:function(t,e){console.log("ADDING TO CART",t.id,e),m((function(a){return p(t,e)?a:[].concat(Object(h.a)(a),[{id:t.id+e.toString(),watch:t,quantity:1,optionIndex:e}])}))},removeFromCart:d,watchInCart:p,quantityDecrement:function(t,e){m((function(a){return a.forEach((function(a){a.id===t.id+e.toString()&&(a.quantity>1?a.quantity-=1:d(t,e))})),a})),u()},quantityIncrement:function(t,e){m((function(a){return a.forEach((function(a){console.log(a.quantity,e,"FLY"),a.id===t.id+e.toString()&&(a.quantity+=1)})),a})),u()}};return i.a.createElement(g.Provider,{value:[s,f]},i.a.createElement(E.Provider,{value:c},e))},b=function(t){var e=t.watch,a=t.optionIndex,c=Object(n.useContext)(g),r=Object(o.a)(c,2),s=r[0],m=r[1],u=m.quantityDecrement,p=m.quantityIncrement,f=s.filter((function(t){return console.log(t.id===e.id+a.toString()),t.id===e.id+a.toString().trim()}))[0];return console.log(e.id,a,s),i.a.createElement(i.a.Fragment,null,f&&i.a.createElement(l.b.div,{variants:d,initial:"init",animate:"anim"},i.a.createElement("h3",{className:"cart-watch-price"},e.options[a].price),i.a.createElement("div",{className:"cart-watch-quantity-container"},i.a.createElement("button",{style:f.quantity>1?{}:{color:"red"},onClick:function(){return u(e,a)},className:"decrement-btn quantity-btn"},f&&f.quantity>1?"-":"x"),i.a.createElement("h3",{className:"cart-watch-quantity"},f.quantity),i.a.createElement("button",{onClick:function(){return p(e,a)},className:"increment-btn quantity-btn"},"+"))))},w=function(t){var e=t.watch,c=t.optionIndex,r=void 0===c?0:c,m=Object(n.useContext)(g),u=Object(o.a)(m,1)[0],d={init:{opacity:0},anim:{opacity:1,transition:{delay:1.2,duration:1}},exit:{opacity:0,transition:{duration:.3}}};return i.a.createElement(l.b.div,{variants:{init:{y:0},anim:{y:0,transition:{delayChildren:.6,staggerChildren:5}},exit:{y:200,opacity:0,transition:{duration:.8,type:"tween"}}},initial:"init",animate:"anim",exit:"exit",className:"home-watch"},i.a.createElement(l.b.img,{className:"home-watch-image",variants:{init:{y:400,opacity:0},anim:{y:0,opacity:2,transition:{duration:1,type:"tween"}},exit:{y:500,opacity:0,transition:{delay:.5,duration:1}}},whileHover:{scale:1.02},transition:{duration:.2,ease:[.5,.2,.5,.8]},src:a(14)("./".concat(e.options[r].image))}),i.a.createElement("div",{className:"home-watch-text-items"},i.a.createElement(l.b.h2,{className:"home-watch-name",variants:d},e.name),"cart"===s()&&u.length>0?i.a.createElement(b,{watch:e,optionIndex:r}):i.a.createElement(l.b.h2,{className:"home-watch-link",variants:d},"see details")))},x=a(5),N=a(16),O=a.n(N),C=function(){var t=Object(n.useContext)(g),e=Object(o.a)(t,1)[0],a=Object(n.useState)(0),c=Object(o.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){s(window.scrollY),window.addEventListener("scroll",(function(){s(window.scrollY)}))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null,i.a.createElement(x.b,{to:"/cart"},e.length>0&&r>50&&i.a.createElement(l.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"aux-cart-btn-container"},i.a.createElement("img",{src:O.a,alt:"cart",className:"aux-cart-img"}),i.a.createElement("div",{className:"aux-cart-quantity"},i.a.createElement("h5",{className:"aux-cart-quantity-text"},e.length))))))},j=function(){var t=Object(n.useContext)(E),e={init:{opacity:0},anim:{opacity:1,transition:{duration:1.2,delayChildren:.6,staggerChildren:.1}},exit:{opacity:0}};return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),i.a.createElement(l.b.div,{variants:{init:{opacity:0},anim:{opacity:1,transition:{duration:1,type:"tween"}},exit:{opacity:0}},initial:"init",animate:"anim",exit:"exit",className:"home-wrapper",style:{overflow:"hidden"}},i.a.createElement(C,null),i.a.createElement(l.b.img,{variants:{init:{y:-200},anim:{y:0,transition:{duration:1.2}},exit:{y:-40}},style:{width:50},className:"logo",src:a(15)}),i.a.createElement("div",{className:"home-heading"},"Timeless Collection".split("").map((function(t,a){return i.a.createElement(l.b.span,{key:a+"summer",variants:e},t)}))),i.a.createElement(l.b.div,{variants:{init:{y:200},anim:{y:0,transition:{staggerChildren:200,staggerDirection:1}}},initial:"init",animate:"anim",className:"home-watches-container"},t.map((function(t){return i.a.createElement("div",{key:t.id+"watchsdjksd"},i.a.createElement(x.b,{to:"/watch/".concat(t.name,"+").concat(t.options[0].codeName)},i.a.createElement(w,{watch:t})))}))))},k=function(){var t=null;!function e(){window.scrollY>0?(console.log("RUNNING ANIM"),t=window.requestAnimationFrame(e),window.scrollBy(0,-30)):t&&(console.log("STOPPING ANIM"),cancelAnimationFrame(t))}()},I=function(){var t=Object(n.useContext)(g),e=Object(o.a)(t,1)[0],a={init:{opacity:0},anim:{opacity:1,transition:{duration:.1}}};return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),i.a.createElement(l.b.div,{exit:{opacity:0},className:"cart-page-container"},i.a.createElement(l.b.h1,{variants:a,initial:"init",animate:"anim",className:"cart-heading"},"Cart"),e.length>0&&i.a.createElement(l.b.div,{variants:{init:{opacity:0,y:0},anim:{opacity:1,y:0,transition:{delay:1.5,duration:.3},exit:{opacity:0,y:-3e3}}},initial:"init",animate:"anim",exit:"exit",className:"checkout-container"},i.a.createElement("div",{className:"checkout-total-container"},i.a.createElement("h3",{className:"checkout-total-text"},"total"),i.a.createElement("h2",{className:"checkout-total-price"},"R".concat(function(t){var e=0;return t.map((function(t){var e=Number(t.id.slice(t.length-2,t.length-1));console.log(console.log(e)),console.log(t);var a=t.watch.options[e].price;return parseInt(a.split(" ").join("").slice(1,a.length-1)*t.quantity)})).forEach((function(t){e+=t})),e}(e)))),i.a.createElement("button",{className:"checkout-btn"},"Checkout")),i.a.createElement("div",{className:"cart-items-container"},e.length>0?i.a.createElement(i.a.Fragment,null,e.map((function(t){return i.a.createElement("div",{key:t.id,className:"cart-item"},i.a.createElement(w,{watch:t.watch,optionIndex:t.optionIndex}))}))):i.a.createElement("div",{className:"no-cart-items-container"},i.a.createElement(l.b.h3,{variants:a,initial:"init",animate:"anim"},"NO ITEMS IN THE CART YET"),i.a.createElement(x.b,{to:""},i.a.createElement(l.b.button,{variants:a,initial:"init",animate:"anim",className:"cart-see-watches-btn"},"See Watches")))))},q=function(){var t=window.location.pathname.length>3,e=Object(n.useContext)(g),c=Object(o.a)(e,1)[0],r=c.length<=0?0:c.length;return i.a.createElement("header",null,i.a.createElement(l.a,null,t&&i.a.createElement("div",{className:"menu-left"},i.a.createElement(x.b,{to:"/"},i.a.createElement(l.b.img,{variants:{init:{y:-30},anim:{y:0,transition:{duration:1}},exit:{y:-30,transition:{duration:.7}}},initial:"init",animate:"anim",exit:"exit",transition:{duration:1},className:"nav-logo",src:a(15)})))),i.a.createElement(x.b,{to:"/cart"},i.a.createElement("div",{style:{position:"absolute",top:"0px",right:"40px",cursor:"pointer"},className:"menu-right"},i.a.createElement(l.a,null,i.a.createElement(l.b.h3,null,"Cart"),c.length>0&&i.a.createElement(l.b.h4,{variants:{init:{y:-30},anim:{y:0,transition:{duration:.4}},exit:{y:-30,transition:{duration:.4}}},initial:"init",animate:"anim",exit:"exit",className:"header-num-cart-items"},r)))))},R=function(t){var e=t.watch,n=t.watchHandler;return i.a.createElement("div",{onClick:function(){return n(e)}},i.a.createElement("div",{style:{overflow:"hidden"},className:"small-watch"},i.a.createElement(l.b.img,{style:{overflow:"hidden"},variants:{init:{y:200,opacity:0},anim:{y:0,opacity:1,transition:{duration:1,type:"tween"}},exit:{y:200,opacity:0,transition:{delay:0,duration:1}}},initial:"init",animate:"anim",exit:"exit",src:a(14)("./".concat(e.options[0].image))}),i.a.createElement("div",{style:{overflow:"hidden"},className:"detail-small-watch-name"},i.a.createElement(l.b.h3,{variants:{init:{opacity:0},anim:{opacity:1,transition:{delay:.8,duration:1.2}},exit:{opacity:0,transition:{delay:0,duration:0}}}},e.name))))},T=function(t){var e=t.optionIndex,a=t.watch,n=t.watchHandler,c={background:a.options[e].colour,width:"40px",height:"40px",borderRadius:"5000px"};return i.a.createElement("div",{onClick:function(){return n(a,e)}},i.a.createElement("div",{style:c}))},S=function(){var t=Object(n.useContext)(E),e=Object(n.useContext)(g),c=Object(o.a)(e,2),r=(c[0],c[1]),s=r.addToCart,h=r.removeFromCart,y=r.watchInCart,v=t.filter((function(t){return t.name===m().watchName}))[0],b=(v=v||t[0]).options.filter((function(t){return t.codeName=m().codeName}))[0];b=b||v.options[0];var w=Object(n.useState)(v),x=Object(o.a)(w,2),N=x[0],O=x[1],j=Object(n.useState)(0),I=Object(o.a)(j,2),q=I[0],S=I[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;k(),O(t),e&&S(e),!e&&S(0)},D=N.options[q],A=function(t){return t?{text:"- Remove From Cart",style:{background:"#aaa"}}:{text:"+ Add To Cart",style:{background:"#0aff7c"}}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,null),i.a.createElement(l.b.div,{variants:f,initial:"init",animate:"anim",exit:"exit",className:"detail-container"},i.a.createElement("div",{className:"watch-container"},i.a.createElement(l.b.img,{style:{detailStyle:u},initial:{y:500},animate:{y:0},exit:{y:500,transition:{duration:1}},transition:{duration:1.7},className:"big-watch",src:a(14)("./".concat(D.image))})),i.a.createElement("div",{style:{overflow:"hidden"},className:"watch-detail"},i.a.createElement(l.b.h1,{className:"detail-watch-name",variants:p},N.name),i.a.createElement(l.b.h4,{className:"detail-watch-description",variants:p},N.description),i.a.createElement(l.b.div,{variants:p,className:"colour-ways"},N.options.map((function(t,e){return i.a.createElement("div",{key:e+"clwdss"},i.a.createElement(T,{optionIndex:e,watch:N,watchHandler:F}))}))),i.a.createElement(l.b.h2,{variants:p,exit:"exit",className:"price"},D.price),i.a.createElement(l.b.button,{className:"detail-add-to-cart",style:A(y(N,q)).style,onClick:function(){return y(N,q)?h(N,q):s(N,q)},variants:d,exit:"exit"},A(y(N,q)).text)),i.a.createElement("div",{className:"watch-collection"},i.a.createElement("div",{style:{overflow:"hidden"}},i.a.createElement(l.b.h2,{className:"watch-collection-heading",style:{marginLeft:15},variants:p},"Collection"),i.a.createElement("div",{className:"the-watches"},t.map((function(t){return i.a.createElement("div",{key:t.id+"wdskfmd"},i.a.createElement(R,{watch:t,watchHandler:F}))})))))))},F=a(2),D=function(){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"footer-social-links"}),i.a.createElement(l.b.h3,{variants:{init:{opacity:0},anim:{opacity:1,transition:{delay:3,duration:.3}},exit:{opacity:0}},initial:"init",animate:"anim",exit:"exit",className:"footer-tagline"},"it's your time."))};var A=function(){var t=Object(F.f)();return Object(n.useEffect)((function(){var t=[];console.log("RUNNING"),caches.keys().then((function(t){return Promise.all(t.filter((function(t){return"v0.2"!==t})).map((function(t){return caches.delete(t)})))})).catch((function(t){return console.log(t)})),caches.open("v0.2").then((function(e){return t.forEach((function(t){return e.match(t).then((function(a){a||e.add(t).catch((function(){return console.log("couldn't cache",t)}))})).catch((function(t){return console.log(t)}))}))}))}),[]),i.a.createElement("div",{className:"app-wrapper"},i.a.createElement("div",{className:"app-container"},i.a.createElement(v,null,i.a.createElement(q,null),i.a.createElement(l.a,{exitBeforeEnter:!0},i.a.createElement(F.c,{location:t,key:t.key},i.a.createElement(F.a,{exact:!0,path:"/watch/:id",component:S}),i.a.createElement(F.a,{exact:!0,path:"/cart",component:I}),i.a.createElement(F.a,{exact:!0,path:"",component:j}))))),i.a.createElement(D,null))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x.a,null,i.a.createElement(A,null))),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.06ae7516.chunk.js.map